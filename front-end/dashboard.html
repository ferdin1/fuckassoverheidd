<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overheid Dashboard</title>
    <link rel="stylesheet" href="css/rijkshuisstijl.css">
</head>

<body>
    <header class="rijk-top-bar">
        <!-- Top section: Logo + Organization + Ministry -->
        <div class="rijk-header-top">
            <a href="dashboard.html" class="rijk-logo-link">
                <img src="https://www.rijkshuisstijl.nl/publiek/general/filestreamer.ashx?d=vePBKGSkhy7hArZX2fPnf67BDM1fdkK%2B22LcON6gT80KUVyGS%2Fw1GGkIgB2LbnNfAa77kkFAGIPKK5Ll7A0Vp1X8BPrR%2FBHYwrYEdKpPX0ADg1F7Pu5vAfJ6VS4Bfl%2FXypjYJVLFt5eALy3vNueZGI5YAjdAF%2FSyy9cCYK4Ck91pjXT7KzerH3%2BkJpLxkmZ%2F6OPSkTN4WqfVbx68D1eFTOb7kil7Ka9AjS0J%2BPcL19DojCVnYR4PgeS6J2BGk%2FLaa7j%2B88BAel7x1W4jbKD5KEf%2Bu6TQdVuSMWuinTiOW7cPgSGSfmipO2Dq3VnXYBHm1nWBtPDHn3YlpZWu7fSFD4bd5t%2B2jMIUN81yTvThr%2BQ%3D"
                    alt="Rijksoverheid Logo" class="rijk-logo">
              
                <span class="rijk-ministry">Ministerie van Justitie en Veiligheid</span>
            </a>
        </div>

        <!-- Navigation section: Main nav + Search + Login -->
        <div class="rijk-header-nav">
            <nav class="rijk-main-nav">
                <a href="dashboard.html" class="rijk-nav-link active">Home</a>
                <a href="kaart.html" class="rijk-nav-link">Kaart</a>
                <a href="functies.html" class="rijk-nav-link">Functies</a>
             
            </nav>

            <div class="rijk-search-container">
                <input type="search" class="rijk-search-input" placeholder="Waar bent u naar op zoek?">
                <button class="rijk-search-btn">üîç</button>
            </div>

            <div>
                <span id="userRoleDisplay" class="rijk-nav-link">Rol: Gast</span>
                <a href="#" id="loginLink" class="rijk-login-btn">Inloggen</a>
            </div>
        </div>
    </header>

    <div class="rijk-container">
        <div class="rijk-hero">
            <h1 class="rijk-hero-title">Welkom bij uw Overheid Dashboard</h1>
            <p class="rijk-hero-text">Centraal beheer van uw loopbaan en geografische inzichten binnen de Rijksoverheid.
            </p>
        </div>

        <div class="rijk-grid rijk-grid-3">
            <div class="rijk-card rijk-card-clickable" onclick="window.location.href='kaart.html'">
                <div class="rijk-card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                </div>
                <h3 class="rijk-card-title">Interactieve Kaart</h3>
                <p class="rijk-card-text">Visualiseer locaties en plan uw routes direct via onze geavanceerde
                    kaartinterface.</p>
                <button class="rijk-btn">Bekijk kaart</button>
            </div>

            <div class="rijk-card rijk-card-clickable" onclick="window.location.href='functies.html'">
                <div class="rijk-card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                        <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                    </svg>
                </div>
                <h3 class="rijk-card-title">Functie Zoeker</h3>
                <p class="rijk-card-text">Ontdek nieuwe mogelijkheden en groei binnen de verschillende ministeries van
                    de Rijksoverheid.</p>
                <button class="rijk-btn">Zoek functies</button>
            </div>

            <div class="rijk-card rijk-card-accent">
                <div class="rijk-card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                </div>
                <h3 class="rijk-card-title">Mijn Profiel</h3>
                <p class="rijk-card-text">Beheer uw persoonlijke gegevens en voorkeuren binnen het systeem.</p>
                <button class="rijk-btn rijk-btn-secondary">Bekijk profiel</button>
            </div>
        </div>
    </div>

    <!-- LOGIN MODAL -->
    <div id="loginModal" class="rijk-modal">
        <div class="rijk-modal-content">
            <span class="rijk-modal-close"
                onclick="document.getElementById('loginModal').classList.remove('active')">&times;</span>
            <div class="rijk-modal-header">
                <h2 class="rijk-modal-title">Inloggen</h2>
            </div>
            <form id="dashboardLoginForm">
                <div class="rijk-form-group">
                    <label class="rijk-label">Gebruikersnaam</label>
                    <input type="text" id="dashboardUsername" class="rijk-input" placeholder="Gebruikersnaam" required>
                </div>
                <div class="rijk-form-group">
                    <label class="rijk-label">Wachtwoord</label>
                    <input type="password" id="dashboardPassword" class="rijk-input" placeholder="Wachtwoord" required>
                </div>
                <button type="submit" class="rijk-btn">Inloggen</button>
                <div id="dashboardLoginStatus" class="rijk-message" style="display: none;"></div>
            </form>
        </div>
    </div>

    <script src="../back-end/javascript/auth.js"></script>
    <script>
        // LOGIN MODAL FUNCTIONALITY
        const loginLink = document.getElementById('loginLink');
        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('dashboardLoginForm');
        const statusMsg = document.getElementById('dashboardLoginStatus');

        // Open modal on login link click
        loginLink.addEventListener('click', (e) => {
            e.preventDefault();
            const user = typeof Auth !== 'undefined' && Auth.getUser ? Auth.getUser() : null;
            if (!user) {
                loginModal.classList.add('active');
            }
        });

        // Close modal on outside click
        loginModal.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.classList.remove('active');
            }
        });

        // Handle form submission
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = document.getElementById('dashboardUsername').value;
            const password = document.getElementById('dashboardPassword').value;

            if (typeof Auth !== 'undefined' && Auth.login) {
                const result = await Auth.login(username, password);
                if (result.success) {
                    statusMsg.textContent = 'Inloggen succesvol! Dashboard wordt vernieuwd...';
                    statusMsg.className = 'rijk-message rijk-message-success';
                    statusMsg.style.display = 'block';
                    setTimeout(() => {
                        loginModal.classList.remove('active');
                        location.reload();
                    }, 1500);
                } else {
                    statusMsg.textContent = result.message || 'Inloggen mislukt';
                    statusMsg.className = 'rijk-message rijk-message-error';
                    statusMsg.style.display = 'block';
                }
            }
        });
    </script>
</body>

</html>